<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<title>Echo Nest Remix - Install For Development</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Echo Nest Remix:  The Internet Synthesizer">
    <meta name="author" content="Brian Whitman / Thor Kell">

    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">

    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>
    <script src="assets/js/bootstrap.min.js"></script>

   <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="index.html">Echo Nest Remix</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="#">Install For Development</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">
        <h2>Introduction</h2>
        <p><a href="index.html">Remix</a>, it turns out, is a surprisingly complex package:  it has C extensions, addtional binaries, and so on.
        This makes it a little inconvenient to install it for development with the typical python install tools.
        Specifically, if you want to install Remix in a virtualenv, or use setup.py develop,  there are a few extra things you'll need to do.
        </p>
        <p>Warning:  this page is only for people who want to hack on or contribute to remix, and assumes that you know some things about python, installing things, and command lines.  
        If that's not you, you probably want one of our <a href="index.html#how">easier installation packages</a>.
        </p>

        <h2>Using virtualenv</h2>
        <p>Virtualenvs work *almost* the way they should.  
        Because Remix comes with executables (ffmpeg and youtube-dl) that need to go to absolute paths like /usr/local/bin, 
        you need to run pip or easy_install with sudo.  And using sudo immediately throws you out of the virtualenv that you just set up!
        </p>

        <p>
        So to fix this, you need to append the virtual environment's path to your path when you run the install commands.  
        That is to say, once you've activated your virtualenv, do this to install Remix:
        <pre>sudo env PATH="/path/to/your/virtualenv/bin:"$PATH pip install remix</pre>
        This also works for easy_install.  Note that to uninstall Remix with pip, you will need to do:  
        <pre>sudo env PATH="/path/to/your/virtualenv/bin:"$PATH pip uninstall remix</pre>
        </p>

        <p>Test with import echonest and import pyechonest - you should be ready to go!
        </p>
        
        <h2>Using setup.py develop</h2>
        <p>In a perfect world, you could do python setup.py develop, and everything would work.
        However, due to a <a href="https://bitbucket.org/tarek/distribute/issue/177/setuppy-develop-doesnt-support-package_dir">known issue</a> with setuptools ignoring the package_dir paths in setup.py, you'll need to tweak things a little.
        </p>
        <p>We've made a script that will fix this for you: <pre>sudo fix_develop_install.py</pre>
        After running it, try import echonest and import pyechonest.   
        If those work, then you're ready to go!
        <p/>
        <p>If you're concerned about the details, read on:  
        running setup.py develop will add a line to easy-install.pth in your python packages folder 
        (that folder is somethig like /usr/local/lib/python2.7/dist-packages, on Linux). 
        The default link in this file is not enough.  The script adds two other lines:
        <ul>    
        <li>The first is your_install_path/src</li>
        <li>The second is your_install_path/pyechonest</li>
        </ul>

        <p>We understand that these things are not ideal:  we'll update with better fixes as we get them.
        </p>

    </div> <!-- /container -->
    

</body>
</html>

